{"openapi":"3.0.0","info":{"title":"Main Bersama","version":"1.0.0","description":"RestAPI Main Bersama by Bintang Rezeka Ramadani"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}},"schemas":{"Booking":{"type":"object","properties":{"field_id":{"type":"number"},"play_date_start":{"type":"string","format":"date-time"},"play_date_end":{"type":"string","format":"date-time"}},"required":["field_id","play_date_start","play_date_end"]},"Field":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum"}},"required":["name","type"]},"OtpUser":{"type":"object","properties":{"user_id":{"type":"number"},"otp":{"type":"string"}},"required":["user_id","otp"]},"User":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}},"required":["name","email","password"]},"Venue":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}}},"paths":{"/api/v1/register":{"post":{"tags":["Authentication"],"summary":"Register New Account User","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["name","email","password"]}},"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["name","email","password"]}}}},"responses":{"201":{"description":"register success, please verify your otp code"},"422":{"description":"validation failed"}}}},"/api/v1/login":{"post":{"tags":["Authentication"],"summary":"Login Account User / Owner","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]}},"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]}}}},"responses":{"200":{"description":"Login Success"},"400":{"description":"Login Failed, Please Verify OTP"},"401":{"description":"Email / Password Not Found"}}}},"/api/v1/logout":{"post":{"security":[{"bearerAuth":[]}],"tags":["Authentication"],"summary":"Logout Account","responses":{"200":{"description":"Logout Account Success"},"401":{"description":"Unauthorized, Please Login Account"}}}},"/api/v1/otp-confirmation":{"post":{"tags":["Authentication"],"summary":"OTP Confirmation","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp_code":{"type":"string"}},"required":["email","otp_code"]}},"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp_code":{"type":"string"}},"required":["email","otp_code"]}}}},"responses":{"200":{"description":"Success Confirmation OTP"},"401":{"description":"Code OTP is Worng, Please Try Again"}}}},"/api/v1/bookings":{"get":{"security":[{"bearerAuth":[]}],"tags":["Bookings"],"summary":"Get All Bookings Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}":{"get":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Show Booking By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}/join":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Join Booking","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}/unjoin":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Unjoin Booking","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/schedules":{"get":{"security":[{"bearerAuth":[]}],"tags":["Bookings"],"summary":"Get User Booking Schedule","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id_venue}/fields":{"get":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venues ID"}],"tags":["Fields"],"summary":"Get All Venue Fields Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"post":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venues ID"}],"tags":["Fields"],"summary":"Create New Field","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum"}},"required":["name","type"]}},"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum"}},"required":["name","type"]}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id_venue}/fields/{id_field}":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"},{"in":"path","name":"id_field","required":true,"schema":{"type":"number","minimum":1},"description":"Field ID"}],"tags":["Fields"],"summary":"Update Field By Id","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum"}},"required":["name","type"]}},"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum"}},"required":["name","type"]}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"delete":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"},{"in":"path","name":"id_field","required":true,"schema":{"type":"number","minimum":1},"description":"Field ID"}],"tags":["Fields"],"summary":"Delete Venue By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venues"],"summary":"Get All Venues Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Venues"],"summary":"Create New Venue","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}},"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id_venue}/bookings":{"post":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Create New Booking","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Booking"}},"application/json":{"schema":{"$ref":"#/components/schemas/Booking"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id_venue}":{"get":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Show Fields Venue","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Update Venue By Id","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}},"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"delete":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id_venue","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Delete Venue","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}}},"tags":[]}