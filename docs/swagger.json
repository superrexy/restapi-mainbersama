{"openapi":"3.0.0","info":{"title":"Main Bersama","version":"1.0.0","description":"RestAPI Main Bersama by Bintang Rezeka Ramadani"},"paths":{"/api/v1/register":{"post":{"tags":["Authentication"],"description":"Register New User and Send OTP to Email","summary":"Create New User","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/User"}},"application/json":{"schema":{"$ref":"#definitions/User"}}}},"responses":{"201":{"description":"register success, please verify your otp code"},"422":{"description":"validation failed"}}}},"/api/v1/login":{"post":{"tags":["Authentication"],"description":"Returning Bearer Token and Validate OTP","summary":"Login User Account","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]}},"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"required":["email","password"]}}}},"responses":{"200":{"description":"login success"},"400":{"description":"email account not found"}}}},"/api/v1/logout":{"post":{"security":[{"bearerAuth":[]}],"tags":["Authentication"],"description":"Revoke Bearer Token","summary":"Logout User Account","responses":{"200":{"description":"Revoke Token Success"},"401":{"description":"Unauthorized access"}}}},"/api/v1/otp-confirmation":{"post":{"tags":["Authentication"],"description":"Set at Users Table isVerified to True","summary":"Verification OTP For New Users","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp_code":{"type":"string"}},"required":["email","otp_code"]}},"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"otp_code":{"type":"string"}},"required":["email","otp_code"]}}}},"responses":{"200":{"description":"OTP success confirmed"},"400":{"description":"Email Tidak Ditemukan / OTP Salah Tidak Ditemukan"}}}},"/api/v1/bookings":{"get":{"security":[{"bearerAuth":[]}],"tags":["Bookings"],"summary":"Get All Bookings Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id}/bookings":{"post":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Create New Booking Venue Fields","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Booking"}},"application/json":{"schema":{"$ref":"#definitions/Booking"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/schedules":{"get":{"security":[{"bearerAuth":[]}],"tags":["Bookings"],"summary":"Get All Schedules User","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}":{"get":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Show Booking By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}/join":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Join Booking","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/bookings/{id}/unjoin":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Booking ID"}],"tags":["Bookings"],"summary":"Unjoin Booking","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id}/fields":{"get":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Fields"],"summary":"Get All Fields at Venue Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"post":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Fields"],"summary":"Create New Field","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Field"}},"application/json":{"schema":{"$ref":"#definitions/Field"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id}/fields/{id_field}":{"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"},{"in":"path","name":"id_field","required":true,"schema":{"type":"number","minimum":1},"description":"Field ID"}],"tags":["Fields"],"summary":"Update Field By Id","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Field"}},"application/json":{"schema":{"$ref":"#definitions/Field"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"delete":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"},{"in":"path","name":"id_field","required":true,"schema":{"type":"number","minimum":1},"description":"Field ID"}],"tags":["Fields"],"summary":"Delete Field By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venues"],"summary":"Get All Venues Data","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"post":{"security":[{"bearerAuth":[]}],"tags":["Venues"],"summary":"Create New Venue","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Venue"}},"application/json":{"schema":{"$ref":"#definitions/Venue"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}},"/api/v1/venues/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Venues"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"summary":"Show Venue By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"put":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Update Venue By Id","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#definitions/Venue"}},"application/json":{"schema":{"$ref":"#definitions/Venue"}}}},"responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}},"delete":{"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"number","minimum":1},"description":"Venue ID"}],"tags":["Venues"],"summary":"Delete Venue By Id","responses":{"200":{"description":"Success"},"400":{"description":"Failed"},"401":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}}}}},"definitions":{"Booking":{"type":"object","properties":{"field_id":{"type":"number"},"play_date_start":{"type":"string","format":"date-time"},"play_date_end":{"type":"enum","format":"date-time"}},"required":["field_id","play_date_start","play_date_end"]},"Field":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"enum","enum":["soccer","minisoccer","futsal","basketball","volleyball"]}},"required":["name","type"]},"User":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","format":"email"},"password":{"type":"string"},"role":{"type":"string","enum":["owner","admin","user"]}},"required":["name","email","password","role"]},"Venue":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"phone":{"type":"string"}},"required":["name","address","phone"]}},"components":{},"tags":[]}